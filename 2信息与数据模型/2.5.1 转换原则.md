# 转换内容
将[[2.3.2 ER模型|ER模型]]中的[[2.3.2 ER模型#1 实体|实体]]、[[2.3.2 ER模型#2 属性|实体的属性]]和[[2.3.2 ER模型#3 联系|实体之间的联系]]转化为关系模式
关系模式例如：职工(工号,姓名,出生日期,性别,职称,工资等级)

# 1.实体的转换原则
一个[[2.3..1概念模型-基本概念#4 实体型|实体型]]转换为一个关系模式
关系模式的属性：实体的属性
关系模式的码：实体的码

# 2.联系的转换原则
### （1）1:1联系的转换

①可以转换为一个独立的关系模式 *（最后会被[[#3 合并原则|合并原则]]合并，不适用）
+ 关系的属性：与该联系相连的各个实体的码以及联系自身的属性
+ 关系的候选码：每个实体的码都是该关系的候选码
![[1对1关系转换独立关系.png]]
②可以与某一端对应的关系模式
+ 合并后关系的属性:加入对应端实体型的码和联系本身的属性
+ 合并后关系的码:不变
![[1对1关系转换合并关系.png]]
### （2）1:n联系的转换
①独立关系模式
②与n端关系模式合并
合并后关系的属性：在n端关系模式中加入1端实体型的码和联系本身的属性
### （3）m:n联系的转换
①独立关系模式

# 3.合并原则
具有相同码的关系模式可合并
目的：减少系统中关系的个数

**关系模式:**
职工:{职工号.….]
项目:{产品号.…}
负责:{职工号，产品号}
**合并后:**
职工:{职工号.….]
项目:{产品号...职工号}

# 习题
某医院数据库的部分关系模式为：科室(科室号，科室名，负责人，电话）、病患（病历号，姓名，住址，联系电话）和职工（职工号，职工姓名，科宝号，住址，联系电话）。假设每个科室有一位负责人和一部电话，每个科室有若干名职工，一名职工只属于一个科室，一个医生可以为多个病患看病；一个病惠可以由多个医生多次诊治。
对于就诊联系转换为关系模式的最合理的设计是
就诊(病历号，职工号，就诊时间，就诊情况)

