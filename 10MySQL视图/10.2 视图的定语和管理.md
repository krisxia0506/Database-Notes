---
title: 10.2 视图的定语和管理
categories:
  - MySQL数据库
  - MySQL视图
tags:
  - 数据库笔记
description: 
cover: 
abbrlink: 
date: 2022-04-19 12:14
---

# 创建视图
```sql
create [algorithm = {undefined|merge|temptable}]
view 视图名 [(列名1，列名2...)]
AS select 语句
[with [cascaded|local] check option]
```

## algorithm = {undefined|merge|temptable}
undefined：由系统自动选择算法
merge：与对视图的操作合并
temptable：生成临时表，再操作

## [with [cascaded|local] check option]
cascaded：满足所有相关视图和表的要求
local：仅满足本视图所定义的条件


[例1]在S表上创建视图s_v1，包括商务1401班的学生学号、姓名、性别和班级。
```sql
CREATE VIEWs_v1 (学号,姓名,性别,班级)
AS
Select sno,sname,ssex,sclass
FROM s
WHERE Sclass='商务1401';
```
注意：修改视图所显示的列名时，可以在select语句中，对列名修改，也可以在create视图名后加括号列名，但是括号里的视图的列名，要写就全写

[例2]在S表上创建视图s_v2，包括商务1401班的学生姓名、班级、课程名和班级。
```sql
CREATE VIEW s_v2
As
Select sname,sclass,cname,grade
FROM s,sc,c
WHERE s.sno=sc.sno AND sc.cno=c.cno AND Sclass=‘商务1401;
```

# 分析WITH CHECK OPTION短语的使用
没有WITH CHECK OPTION
在视图中添加记录的时候，会添加到基本表，而且会判断是否复合视图的条件，如果不满足，视图中不会显示但是，基本表中会添加

WITH LOCAL CHECK OPTION
MySQL仅检查更新后的数据是否满足该视图的定义规则

WITH LOCAL CHECK OPTION

